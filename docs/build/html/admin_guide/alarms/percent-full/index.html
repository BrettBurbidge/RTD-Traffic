

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Percent Full Alarm &mdash; UTA Docs 1.0.7.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="User Guide" href="../../../user_guide/index.html" />
    <link rel="prev" title="No Data Alarm" href="../no-data/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> UTA Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0.7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Admin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../voicesystems/index.html">Voice Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/index.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../traffic.html">Traffic</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Alarms</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../contact_closures/index.html">Contact Closures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teleboss_connection/index.html">Teleboss Connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../no-data/index.html">No Data Alarm</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Percent Full Alarm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchers/index.html">Watchers</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">UTA Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Admin</a> &raquo;</li>
        
          <li><a href="../index.html">Alarms</a> &raquo;</li>
        
      <li>Percent Full Alarm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/admin_guide/alarms/percent-full/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="percent-full-alarm">
<h1>Percent Full Alarm<a class="headerlink" href="#percent-full-alarm" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div></div></blockquote>
<p id="id1">Authors:  <a class="reference external" href="https://github.com/brettburbidge">Brett Burbidge</a></p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This example will demonstrate how to setup UTA to send an alarm when the Teleboss file gets too full.</p>
</div>
<div class="section" id="teleboss-setup">
<h2>Teleboss setup<a class="headerlink" href="#teleboss-setup" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ensure-uta-teleboss-connections">
<h3>Ensure UTA &amp; Teleboss Connections<a class="headerlink" href="#ensure-uta-teleboss-connections" title="Permalink to this headline">¶</a></h3>
<p>Follow the steps in <a class="reference internal" href="../teleboss_connection/index.html#id1"><span class="std std-ref">Teleboss Connection</span></a>  before you continue.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you followed the instructions above you should have a <strong>Alarm Element</strong> configured in your UTA system that is talking to the Teleboss.</p>
</div>
</div>
</div>
<div class="section" id="teleboss-settings">
<h2>Teleboss Settings<a class="headerlink" href="#teleboss-settings" title="Permalink to this headline">¶</a></h2>
<p>Percent Full Alarm Settings displays the menu for configuring alarms based on % fullness of the call record collection file.  The Teleboss can send an SNMP Trap when the file reaches a certain level.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This alarm indicates that UCE is not pulling the call records out of the file.  Or that the SFTP connection is failing somewhere and the call records are not being moved to the SFTP server.</p>
</div>
<ul class="simple">
<li><p>Open Putty.exe and login to the Teleboss</p></li>
<li><p>After logging into the Teleboss via SSH type ‘setup’ and press Enter.</p></li>
</ul>
<img alt="../../../_images/putty_login2.jpg" src="../../../_images/putty_login2.jpg" />
<ul class="simple">
<li><p>Select E (Alarm/Event Defintions)</p></li>
<li><p>Select F (Percent Fill Alarm Settings)</p></li>
</ul>
<img alt="../../../_images/putty_percent_full.jpg" src="../../../_images/putty_percent_full.jpg" />
<p>This is the menu that we will use to configure when to send UTA messages when the call records data file is getting too large. Lets go through each menu item.</p>
<p><strong>Alarm Enable</strong> is an ON/OFF toggle to enable the percent full alarm. Default setting is OFF.</p>
<p><strong>Percent Full</strong> Threshold set the percent full level at which the alarm will be triggered. Default setting is 80 percent.</p>
<p><strong>Alarm Actions</strong> displays the Actions List, a menu where the action string for the event is configured. This field will be
empty [ ] if no actions have been configured, and will show [<em>SET</em>] if one or more actions have been configured.
Refer to Action List in the Features chapter for more information.</p>
<p><strong>Alarm Message</strong> sets the text string to be delivered with the percentage full alarm. Default setting is DB Exceeds
Threshold. (Max length 111 chars)</p>
<p><strong>Alarm Class</strong> sets the class for the alarm. When this option is selected, a list of the classes previously defined in the
Class Table is displayed, from which you can select one to be assigned to this percent full alarm.</p>
<p><strong>Trap Number</strong> sets the number to be sent with any SNMP traps for this event. Default is 501, but trap number can
also be set in the range of 1000 – 1199 as needed.</p>
<p>For this exampe we will set the following:</p>
<ol class="upperalpha simple">
<li><p>Alarm Enabled: ON</p></li>
<li><p>Percent Full Threshold: [40]</p></li>
<li><p>Alarm Actions: trap(1)</p></li>
<li><p>Alarm Message: [DB Exceeds Threshold] leave as default, not used.</p></li>
<li><p>Alarm Class: [Info] leave default</p></li>
<li><p>Trap Number: 501</p></li>
</ol>
<p>When finished your Teleboss Settings should look like this:</p>
<img alt="../../../_images/putty_percent_full_complete.jpg" src="../../../_images/putty_percent_full_complete.jpg" />
</div>
<div class="section" id="uta-setup">
<h2>UTA Setup<a class="headerlink" href="#uta-setup" title="Permalink to this headline">¶</a></h2>
<p>This section we will setup a new <strong>Alarm Monitor</strong> to watch for the Percent Full SNMP Trap from the Teleboss.</p>
<ol class="arabic simple">
<li><p>Open UTA and login</p></li>
<li><p>Navigate to Admin &gt; Alarm Elements</p></li>
</ol>
<p>If you followed the Teleboss Connection tutorial here <a class="reference internal" href="../teleboss_connection/index.html#id1"><span class="std std-ref">Teleboss Connection</span></a> you should already have an Alarm Element configured for this Teleboss.</p>
<ol class="arabic simple">
<li><p>Add a new Element Monitor by pressing the Monitors button on the Alarm Element</p></li>
<li><p>Click New Monitor</p></li>
</ol>
<img alt="../../../_images/uta_new_alarm_monitor1.gif" src="../../../_images/uta_new_alarm_monitor1.gif" />
<p>With the new Alarm Monitor open fill out the information for this monitor.</p>
<ul class="simple">
<li><p>Name: Percent Full Alarm</p></li>
<li><p>Alarm Key: the Trap Number you entered into the Teleboss.  501 from above.</p></li>
<li><p>Alarm Key Value: leave this blank.</p></li>
<li><p>Clear Alarm Key: leave this blank.</p></li>
<li><p>Clear Alarm Key Value: leave this blank.</p></li>
<li><p>Message: this is the alarm message that will be displayed when this alarm is fired.  For example this could be ‘Teleboss CDR not being collected!’.</p></li>
<li><p>Escalation: select the Escalation pattern from the dropdown list.</p></li>
<li><p>Press the Save button to save the Alarm Monitor.</p></li>
</ul>
<p>Example:</p>
<img alt="../../../_images/uta_percent_full_monitor.jpg" src="../../../_images/uta_percent_full_monitor.jpg" />
<p>Your Alarm Monitor is now ready to create alarms when the Teleboss file is above 40% full.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In the real world 40% full alarms might not work.  If the Teleboss (via SFTP) or UCE can only push/pull the data from the file so fast, then this might be better set to a higher number.</p>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>To test this you need to fill the Teleboss file with data and watch for the Trap being sent to UTA.</p>
<p>To fill up FILE1 in the Teleboss fillow the instructions below.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>These steps will mess up and possibly erase all data from all files in the Teleboss.  If that is okay, proceed.  If not then please proceed with caution and it would be good to know what you are doing…</p>
</div>
<div class="section" id="turn-on-ip-record-collection-for-general-server">
<h3>Turn On IP Record Collection for General Server<a class="headerlink" href="#turn-on-ip-record-collection-for-general-server" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Open Putty, go to the Teleboss, login and type setup then press the Enter button.</p></li>
<li><p>Select A (Network Settings)</p></li>
<li><p>Select F (IP Record Collection Settings)</p></li>
</ol>
<img alt="../../../_images/putty_cdr_collection_menu.jpg" src="../../../_images/putty_cdr_collection_menu.jpg" />
<p>Cycle through the menu options by pressing the letter A. This should only take once press of A, but if you pass it press A until you see the following menu:</p>
<img alt="../../../_images/putty_cdr_collection_menu_generic_server.jpg" src="../../../_images/putty_cdr_collection_menu_generic_server.jpg" />
<p>Press the Enter button to leave this menu.</p>
<p>The Generic Server is now running against FILE1 on port 5000</p>
</div>
<div class="section" id="configure-the-percent-full-alarm-to-4">
<h3>Configure the Percent Full Alarm to 4%<a class="headerlink" href="#configure-the-percent-full-alarm-to-4" title="Permalink to this headline">¶</a></h3>
<p>Let’s adjust the Percent Full number down to 4% so we can fill up the file with fake data.</p>
<p>Go back to Putty
#. Go back to the main setup menu and go into E (Alarm/Event Defintions)
#. Go into the F (Percnet Full Alarm Settings) menu
#. Enter B and set the value to 4 press the Enter button</p>
</div>
<div class="section" id="fill-the-file-with-data">
<h3>Fill the File with Data<a class="headerlink" href="#fill-the-file-with-data" title="Permalink to this headline">¶</a></h3>
<p>We are going to use another instance of the Teleboss to fill the file1 with data.  Our goal is to fill it above 4% so we can test to make sure our settings are working.</p>
<ol class="arabic simple">
<li><p>Open another instance of Putty</p></li>
<li><p>Connect to the Teleboss but on port 5000. Like this:</p></li>
</ol>
<img alt="../../../_images/putty_connect_to_5000.gif" src="../../../_images/putty_connect_to_5000.gif" />
<ol class="arabic simple">
<li><p>When connected to port 5000 anything you type into the Putty window will be stored on FILE1.</p></li>
<li><p>Go copy a huge document or a news site and paste it into the Putty window.  You paste by right clicking on the window.</p></li>
<li><p>Depending on how much data you are copying this might take 10-15 times before the file gets full.</p></li>
</ol>
<p><strong>Check the size of the file</strong></p>
<ol class="arabic simple">
<li><p>To check the file size open the other Putty window.  Get to the main menu by pressing the Enter button mutiple times.</p></li>
<li><p>Type the word status into command window and press the Enter button.  The status of the files will be shown.</p></li>
<li><p>If the file size is not past 4% keep pasting your data into the other Teleboss window.</p></li>
</ol>
<img alt="../../../_images/putty_paste_data_status.gif" src="../../../_images/putty_paste_data_status.gif" />
<p>I am pasting in the left window and checking the status in the right window.</p>
</div>
<div class="section" id="did-it-work">
<h3>Did it work?<a class="headerlink" href="#did-it-work" title="Permalink to this headline">¶</a></h3>
<p>Navigate to UTA and go to Alarms &gt; Traps.  You should see a Trap from the Teleboss with DB Exceeds Threshold text.</p>
<img alt="../../../_images/uta_db_exceeds_threshold.jpg" src="../../../_images/uta_db_exceeds_threshold.jpg" />
<p>Navigate to UTA and go to Alarms &gt; Active Alarms.  You should see an Alarm generated from the Teleboss with ‘The teleboss file1 exceeds….’ text.</p>
<img alt="../../../_images/uta_db_exceeds_threshold_alarm.jpg" src="../../../_images/uta_db_exceeds_threshold_alarm.jpg" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../user_guide/index.html" class="btn btn-neutral float-right" title="User Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../no-data/index.html" class="btn btn-neutral float-left" title="No Data Alarm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Brett Burbidge

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>