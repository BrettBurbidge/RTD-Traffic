

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cisco CUCM &mdash; UTA Docs 1.0.7.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Devices" href="../../devices/index.html" />
    <link rel="prev" title="Avaya CM" href="../avaya/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> UTA Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0.7.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Admin</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Voice Systems</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../avaya/index.html">Avaya CM</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Cisco CUCM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../devices/index.html">Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logs/index.html">Event &amp; System Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../traffic.html">Traffic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../alarms/index.html">Alarms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchers/index.html">Watchers</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">UTA Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Admin</a> &raquo;</li>
        
          <li><a href="../index.html">Voice Systems</a> &raquo;</li>
        
      <li>Cisco CUCM</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/admin_guide/voicesystems/cucm/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cisco-cucm">
<h1>Cisco CUCM<a class="headerlink" href="#cisco-cucm" title="Permalink to this headline">¶</a></h1>
<p>The Cisco Voice System is the latest Telephone Switch added to the UTA suite.</p>
<p>The Cisco CUCM does not produce the same types of reports as the Avaya CM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Voice System for the Cisco CUCM gathers raw CDR and CMR files and produces traffic reports based on aggregates from this data.</p>
</div>
<p>To get started navigate to Admin/Voice Systems and click New Voice System. When the new Voice System screen is displayed fill out the basic information and select the <strong>type</strong> as CiscoCUCM.</p>
<img alt="../../../_images/selectcucmtype.png" src="../../../_images/selectcucmtype.png" />
<p>You will be presented with the options below.</p>
<p>In order to report on the CUCM traffic you must first setup the CDR and CMR collection.</p>
<p><strong>Collection Interval</strong>:  The collection interval tells the system how often to read files out of the CDR and CMR file paths. Default is 5 minutes.
<strong>Collect CDR</strong>: In order to start the collection of CDR check this box.  After checking this box you will be presented with the following options.</p>
<blockquote>
<div><p><strong>CDR Folder Path</strong>: If call records are on a local server drive enter the drive path here. This must be the fully qualified path on the UTA server for example C:CDR.</p>
<p><strong>Delete CDR After Import</strong>: If this is true the raw CDR file will be deleted from the folder ‘C:CDR' after imported to the database. If false it will be moved into a folder called Processed in the same directory.</p>
</div></blockquote>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In order to setup CDR or CMR collection Devices must be setup to grab the raw data from the SFTP server. Read more in the Devices section.</p>
</div>
<p>Once the CMR and CDR options are selected you must press the Configure Voice System Trunks button.  <strong>This is required for any CUCM reports to show on the UI</strong></p>
<p>The System Trunks allow you to configure which Voice System trunks will be added to your report and allow you to create custom names for these.</p>
<p>Currently UTA uses the origSpan field as the “Trunk” field. In order to determine which “Trunks” to add to the Configure Trunks list use this SQL Query against the UTA Database.</p>
<p><code class="docutils literal notranslate"><span class="pre">select</span> <span class="pre">origSpan</span> <span class="pre">Trunk,</span> <span class="pre">count(*)</span> <span class="pre">Calls</span> <span class="pre">from</span> <span class="pre">CUCMCDR</span>
<span class="pre">Group</span> <span class="pre">by</span> <span class="pre">origSpan</span> <span class="pre">having</span> <span class="pre">count(*)</span> <span class="pre">&gt;</span> <span class="pre">5</span> <span class="pre">order</span> <span class="pre">by</span> <span class="pre">Count(*)</span> <span class="pre">Desc</span></code></p>
<p>This query will only show data if the call collection settings are complete in UTA. Once you see data use the “Trunk” as the “Trunk Name” value when configuring the Voice System Trunks.</p>
<p>origSpan is defined in the CUCM Documentation as:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>orgSpan</strong> For calls that originate at a gateway, this field indicates the B-channel number of the T1, PRI, or BRI trunk where the call originates, or a zero value for FXS or FXO trunks. For H.323 gateways, the span number remains unknown, and this field contains the call leg ID of the originator. For calls that did not originate at a gateway, the value specifies zero. Default - This field gets populated based on these rules.</p>
</div>
<p>The Cisco CUCM CDR field definitions can be found here: <a class="reference external" href="https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/cucm/service/11_5_1/cdrdef/cucm_b_cucm-cdr-administration-guide-1151/cucm_b_cucm-cdr-administration-guide-1151_chapter_0101.html">https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/cucm/service/11_5_1/cdrdef/cucm_b_cucm-cdr-administration-guide-1151/cucm_b_cucm-cdr-administration-guide-1151_chapter_0101.html</a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../devices/index.html" class="btn btn-neutral float-right" title="Devices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../avaya/index.html" class="btn btn-neutral float-left" title="Avaya CM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Brett Burbidge

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>